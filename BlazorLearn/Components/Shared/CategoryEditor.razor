@using BlazorLearn.Data.DTOs
@using Microsoft.AspNetCore.Components.Web

@code {
    [Parameter] public CategoryWriteDto Dto { get; set; } = default!;
    [Parameter] public EventCallback<CategoryWriteDto> OnSave { get; set; }
    [Parameter] public EventCallback OnCancel { get; set; }

    // امضا را با MouseEventArgs هماهنگ می‌کنیم تا ambiguity رفع شود
    private async Task Save(MouseEventArgs _)
        => await OnSave.InvokeAsync(Dto);

    private async Task Cancel(MouseEventArgs _)
        => await OnCancel.InvokeAsync();
}

<div class="row g-2 align-items-end">
    <div class="col-md-3">
        <label class="form-label">نام</label>
        <input class="form-control" @bind="Dto.Name" />
    </div>
    <div class="col-md-3">
        <label class="form-label">Slug</label>
        <input class="form-control" @bind="Dto.Slug" />
    </div>
    <div class="col-md-2">
        <label class="form-label">Sort</label>
        <input type="number" class="form-control" @bind="Dto.SortOrder" />
    </div>
    <div class="col-md-2 form-check mt-4">
        <input class="form-check-input" type="checkbox"
               id="@($"active-{Guid.NewGuid()}")" @bind="Dto.IsActive" />
        <label class="form-check-label">Active</label>
    </div>
    <div class="col-md-2 d-flex gap-2">
        <button class="btn btn-primary" @onclick="Save">ذخیره</button>
        <button class="btn btn-outline-secondary" @onclick="Cancel">انصراف</button>
    </div>
</div>
